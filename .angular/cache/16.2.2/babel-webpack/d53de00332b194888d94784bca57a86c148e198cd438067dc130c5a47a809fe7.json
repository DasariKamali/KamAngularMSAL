{"ast":null,"code":"/*! @azure/msal-common v14.0.3 2023-09-05 */\n'use strict';\n\nimport { AUTHORITY_METADATA_CONSTANTS } from '../../utils/Constants.mjs';\nimport { TimeUtils } from '../../utils/TimeUtils.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/** @internal */\nclass AuthorityMetadataEntity {\n  constructor() {\n    this.expiresAt = TimeUtils.nowSeconds() + AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS;\n  }\n  /**\n   * Update the entity with new aliases, preferred_cache and preferred_network values\n   * @param metadata\n   * @param fromNetwork\n   */\n  updateCloudDiscoveryMetadata(metadata, fromNetwork) {\n    this.aliases = metadata.aliases;\n    this.preferred_cache = metadata.preferred_cache;\n    this.preferred_network = metadata.preferred_network;\n    this.aliasesFromNetwork = fromNetwork;\n  }\n  /**\n   * Update the entity with new endpoints\n   * @param metadata\n   * @param fromNetwork\n   */\n  updateEndpointMetadata(metadata, fromNetwork) {\n    this.authorization_endpoint = metadata.authorization_endpoint;\n    this.token_endpoint = metadata.token_endpoint;\n    this.end_session_endpoint = metadata.end_session_endpoint;\n    this.issuer = metadata.issuer;\n    this.endpointsFromNetwork = fromNetwork;\n    this.jwks_uri = metadata.jwks_uri;\n  }\n  /**\n   * Save the authority that was used to create this cache entry\n   * @param authority\n   */\n  updateCanonicalAuthority(authority) {\n    this.canonical_authority = authority;\n  }\n  /**\n   * Reset the exiresAt value\n   */\n  resetExpiresAt() {\n    this.expiresAt = TimeUtils.nowSeconds() + AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS;\n  }\n  /**\n   * Returns whether or not the data needs to be refreshed\n   */\n  isExpired() {\n    return this.expiresAt <= TimeUtils.nowSeconds();\n  }\n  /**\n   * Validates an entity: checks for all expected params\n   * @param entity\n   */\n  static isAuthorityMetadataEntity(key, entity) {\n    if (!entity) {\n      return false;\n    }\n    return key.indexOf(AUTHORITY_METADATA_CONSTANTS.CACHE_KEY) === 0 && entity.hasOwnProperty(\"aliases\") && entity.hasOwnProperty(\"preferred_cache\") && entity.hasOwnProperty(\"preferred_network\") && entity.hasOwnProperty(\"canonical_authority\") && entity.hasOwnProperty(\"authorization_endpoint\") && entity.hasOwnProperty(\"token_endpoint\") && entity.hasOwnProperty(\"issuer\") && entity.hasOwnProperty(\"aliasesFromNetwork\") && entity.hasOwnProperty(\"endpointsFromNetwork\") && entity.hasOwnProperty(\"expiresAt\") && entity.hasOwnProperty(\"jwks_uri\");\n  }\n}\nexport { AuthorityMetadataEntity };","map":{"version":3,"names":["AUTHORITY_METADATA_CONSTANTS","TimeUtils","AuthorityMetadataEntity","constructor","expiresAt","nowSeconds","REFRESH_TIME_SECONDS","updateCloudDiscoveryMetadata","metadata","fromNetwork","aliases","preferred_cache","preferred_network","aliasesFromNetwork","updateEndpointMetadata","authorization_endpoint","token_endpoint","end_session_endpoint","issuer","endpointsFromNetwork","jwks_uri","updateCanonicalAuthority","authority","canonical_authority","resetExpiresAt","isExpired","isAuthorityMetadataEntity","key","entity","indexOf","CACHE_KEY","hasOwnProperty"],"sources":["C:/Users/v-dkamali/Documents/AngularMSALAD/microsoft-login/node_modules/@azure/msal-common/dist/cache/entities/AuthorityMetadataEntity.mjs"],"sourcesContent":["/*! @azure/msal-common v14.0.3 2023-09-05 */\n'use strict';\nimport { AUTHORITY_METADATA_CONSTANTS } from '../../utils/Constants.mjs';\nimport { TimeUtils } from '../../utils/TimeUtils.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/** @internal */\nclass AuthorityMetadataEntity {\n    constructor() {\n        this.expiresAt =\n            TimeUtils.nowSeconds() +\n                AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS;\n    }\n    /**\n     * Update the entity with new aliases, preferred_cache and preferred_network values\n     * @param metadata\n     * @param fromNetwork\n     */\n    updateCloudDiscoveryMetadata(metadata, fromNetwork) {\n        this.aliases = metadata.aliases;\n        this.preferred_cache = metadata.preferred_cache;\n        this.preferred_network = metadata.preferred_network;\n        this.aliasesFromNetwork = fromNetwork;\n    }\n    /**\n     * Update the entity with new endpoints\n     * @param metadata\n     * @param fromNetwork\n     */\n    updateEndpointMetadata(metadata, fromNetwork) {\n        this.authorization_endpoint = metadata.authorization_endpoint;\n        this.token_endpoint = metadata.token_endpoint;\n        this.end_session_endpoint = metadata.end_session_endpoint;\n        this.issuer = metadata.issuer;\n        this.endpointsFromNetwork = fromNetwork;\n        this.jwks_uri = metadata.jwks_uri;\n    }\n    /**\n     * Save the authority that was used to create this cache entry\n     * @param authority\n     */\n    updateCanonicalAuthority(authority) {\n        this.canonical_authority = authority;\n    }\n    /**\n     * Reset the exiresAt value\n     */\n    resetExpiresAt() {\n        this.expiresAt =\n            TimeUtils.nowSeconds() +\n                AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS;\n    }\n    /**\n     * Returns whether or not the data needs to be refreshed\n     */\n    isExpired() {\n        return this.expiresAt <= TimeUtils.nowSeconds();\n    }\n    /**\n     * Validates an entity: checks for all expected params\n     * @param entity\n     */\n    static isAuthorityMetadataEntity(key, entity) {\n        if (!entity) {\n            return false;\n        }\n        return (key.indexOf(AUTHORITY_METADATA_CONSTANTS.CACHE_KEY) === 0 &&\n            entity.hasOwnProperty(\"aliases\") &&\n            entity.hasOwnProperty(\"preferred_cache\") &&\n            entity.hasOwnProperty(\"preferred_network\") &&\n            entity.hasOwnProperty(\"canonical_authority\") &&\n            entity.hasOwnProperty(\"authorization_endpoint\") &&\n            entity.hasOwnProperty(\"token_endpoint\") &&\n            entity.hasOwnProperty(\"issuer\") &&\n            entity.hasOwnProperty(\"aliasesFromNetwork\") &&\n            entity.hasOwnProperty(\"endpointsFromNetwork\") &&\n            entity.hasOwnProperty(\"expiresAt\") &&\n            entity.hasOwnProperty(\"jwks_uri\"));\n    }\n}\n\nexport { AuthorityMetadataEntity };\n"],"mappings":"AAAA;AACA,YAAY;;AACZ,SAASA,4BAA4B,QAAQ,2BAA2B;AACxE,SAASC,SAAS,QAAQ,2BAA2B;;AAErD;AACA;AACA;AACA;AACA;AACA,MAAMC,uBAAuB,CAAC;EAC1BC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,SAAS,GACVH,SAAS,CAACI,UAAU,CAAC,CAAC,GAClBL,4BAA4B,CAACM,oBAAoB;EAC7D;EACA;AACJ;AACA;AACA;AACA;EACIC,4BAA4BA,CAACC,QAAQ,EAAEC,WAAW,EAAE;IAChD,IAAI,CAACC,OAAO,GAAGF,QAAQ,CAACE,OAAO;IAC/B,IAAI,CAACC,eAAe,GAAGH,QAAQ,CAACG,eAAe;IAC/C,IAAI,CAACC,iBAAiB,GAAGJ,QAAQ,CAACI,iBAAiB;IACnD,IAAI,CAACC,kBAAkB,GAAGJ,WAAW;EACzC;EACA;AACJ;AACA;AACA;AACA;EACIK,sBAAsBA,CAACN,QAAQ,EAAEC,WAAW,EAAE;IAC1C,IAAI,CAACM,sBAAsB,GAAGP,QAAQ,CAACO,sBAAsB;IAC7D,IAAI,CAACC,cAAc,GAAGR,QAAQ,CAACQ,cAAc;IAC7C,IAAI,CAACC,oBAAoB,GAAGT,QAAQ,CAACS,oBAAoB;IACzD,IAAI,CAACC,MAAM,GAAGV,QAAQ,CAACU,MAAM;IAC7B,IAAI,CAACC,oBAAoB,GAAGV,WAAW;IACvC,IAAI,CAACW,QAAQ,GAAGZ,QAAQ,CAACY,QAAQ;EACrC;EACA;AACJ;AACA;AACA;EACIC,wBAAwBA,CAACC,SAAS,EAAE;IAChC,IAAI,CAACC,mBAAmB,GAAGD,SAAS;EACxC;EACA;AACJ;AACA;EACIE,cAAcA,CAAA,EAAG;IACb,IAAI,CAACpB,SAAS,GACVH,SAAS,CAACI,UAAU,CAAC,CAAC,GAClBL,4BAA4B,CAACM,oBAAoB;EAC7D;EACA;AACJ;AACA;EACImB,SAASA,CAAA,EAAG;IACR,OAAO,IAAI,CAACrB,SAAS,IAAIH,SAAS,CAACI,UAAU,CAAC,CAAC;EACnD;EACA;AACJ;AACA;AACA;EACI,OAAOqB,yBAAyBA,CAACC,GAAG,EAAEC,MAAM,EAAE;IAC1C,IAAI,CAACA,MAAM,EAAE;MACT,OAAO,KAAK;IAChB;IACA,OAAQD,GAAG,CAACE,OAAO,CAAC7B,4BAA4B,CAAC8B,SAAS,CAAC,KAAK,CAAC,IAC7DF,MAAM,CAACG,cAAc,CAAC,SAAS,CAAC,IAChCH,MAAM,CAACG,cAAc,CAAC,iBAAiB,CAAC,IACxCH,MAAM,CAACG,cAAc,CAAC,mBAAmB,CAAC,IAC1CH,MAAM,CAACG,cAAc,CAAC,qBAAqB,CAAC,IAC5CH,MAAM,CAACG,cAAc,CAAC,wBAAwB,CAAC,IAC/CH,MAAM,CAACG,cAAc,CAAC,gBAAgB,CAAC,IACvCH,MAAM,CAACG,cAAc,CAAC,QAAQ,CAAC,IAC/BH,MAAM,CAACG,cAAc,CAAC,oBAAoB,CAAC,IAC3CH,MAAM,CAACG,cAAc,CAAC,sBAAsB,CAAC,IAC7CH,MAAM,CAACG,cAAc,CAAC,WAAW,CAAC,IAClCH,MAAM,CAACG,cAAc,CAAC,UAAU,CAAC;EACzC;AACJ;AAEA,SAAS7B,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}